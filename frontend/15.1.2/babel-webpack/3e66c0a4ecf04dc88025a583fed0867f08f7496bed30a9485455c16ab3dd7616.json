{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/IdeaPad 100-15IBD/Desktop/HdM/3-Semester/SE3/se3project/Angular/se3-recipe-generator-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { interval } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/fridge.service\";\nimport * as i2 from \"src/app/services/authentication.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/badge\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"@angular/material/menu\";\nimport * as i9 from \"@angular/material/toolbar\";\nfunction HeaderComponent_button_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fridgeItem_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", fridgeItem_r2.item.name, \" - \", fridgeItem_r2.status, \"\");\n  }\n}\nexport class HeaderComponent {\n  constructor(_fridgeService, _authService, route, router) {\n    this._fridgeService = _fridgeService;\n    this._authService = _authService;\n    this.route = route;\n    this.router = router;\n    interval(5000).subscribe(x => {\n      this.getNotif();\n    });\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.getNotif();\n    })();\n  }\n  getNotif() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.expFrigdeItems = yield _this2._fridgeService.getUpdatedNotifications();\n      _this2.count = _this2.expFrigdeItems.length;\n    })();\n  }\n  onLogout() {\n    this._authService.logout;\n  }\n}\nHeaderComponent.ɵfac = function HeaderComponent_Factory(t) {\n  return new (t || HeaderComponent)(i0.ɵɵdirectiveInject(i1.FridgeService), i0.ɵɵdirectiveInject(i2.AuthenticationService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router));\n};\nHeaderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HeaderComponent,\n  selectors: [[\"app-header\"]],\n  decls: 23,\n  vars: 4,\n  consts: [[\"color\", \"teal\"], [\"src\", \"../assets/logo-small-white.PNG\", \"alt\", \"Logo\", 1, \"logo\"], [1, \"menu\"], [\"mat-button\", \"\", \"routerLink\", \"/home\"], [\"mat-button\", \"\", \"routerLink\", \"/fridge\"], [\"mat-button\", \"\", \"routerLink\", \"/my_recipes\"], [1, \"spacer\"], [\"mat-button\", \"\", 3, \"matMenuTriggerFor\"], [\"matBadgeColor\", \"accent\", \"matBadgeSize\", \"medium\", 3, \"matBadgeHidden\", \"matBadge\"], [\"notif\", \"matMenu\"], [\"mat-menu-item\", \"\", \"routerLink\", \"/fridge\", 4, \"ngFor\", \"ngForOf\"], [\"mat-button\", \"\", \"routerLink\", \"/account_settings\"], [\"mat-button\", \"\", \"routerLink\", \"/login\", 3, \"click\"], [\"mat-menu-item\", \"\", \"routerLink\", \"/fridge\"]],\n  template: function HeaderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"mat-toolbar\", 0)(1, \"div\");\n      i0.ɵɵelement(2, \"img\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"a\", 3);\n      i0.ɵɵtext(5, \"Home\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"a\", 4);\n      i0.ɵɵtext(7, \"Fridge\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"a\", 5);\n      i0.ɵɵtext(9, \"My recipes\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(10, \"div\", 6);\n      i0.ɵɵelementStart(11, \"button\", 7)(12, \"mat-icon\", 8);\n      i0.ɵɵtext(13, \"notifications\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"mat-menu\", null, 9);\n      i0.ɵɵtemplate(16, HeaderComponent_button_16_Template, 2, 2, \"button\", 10);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"a\", 11)(18, \"mat-icon\");\n      i0.ɵɵtext(19, \"manage_accounts\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"a\", 12);\n      i0.ɵɵlistener(\"click\", function HeaderComponent_Template_a_click_20_listener() {\n        return ctx.onLogout();\n      });\n      i0.ɵɵelementStart(21, \"mat-icon\");\n      i0.ɵɵtext(22, \"logout\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(15);\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"matMenuTriggerFor\", _r0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"matBadgeHidden\", ctx.count == 0)(\"matBadge\", ctx.count);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.expFrigdeItems);\n    }\n  },\n  dependencies: [i4.NgForOf, i3.RouterLink, i5.MatBadge, i6.MatAnchor, i6.MatButton, i7.MatIcon, i8.MatMenu, i8.MatMenuItem, i8.MatMenuTrigger, i9.MatToolbar],\n  styles: [\".spacer[_ngcontent-%COMP%]{\\r\\n  flex: 1 1 auto;\\r\\n}\\r\\n\\r\\n.menu[_ngcontent-%COMP%]{\\r\\npadding-left: 10px;\\r\\n}\\r\\n\\r\\n.logo[_ngcontent-%COMP%] {\\r\\n  height: 50px;\\r\\n}\\r\\n\\r\\nmat-toolbar[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvaGVhZGVyL2hlYWRlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBYztBQUNoQjs7QUFFQTtBQUNBLGtCQUFrQjtBQUNsQjs7QUFFQTtFQUNFLFlBQVk7QUFDZDs7QUFFQTtFQUNFLFdBQVc7QUFDYiIsInNvdXJjZXNDb250ZW50IjpbIi5zcGFjZXJ7XHJcbiAgZmxleDogMSAxIGF1dG87XHJcbn1cclxuXHJcbi5tZW51e1xyXG5wYWRkaW5nLWxlZnQ6IDEwcHg7XHJcbn1cclxuXHJcbi5sb2dvIHtcclxuICBoZWlnaHQ6IDUwcHg7XHJcbn1cclxuXHJcbm1hdC10b29sYmFyIHtcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":";AAEA,SAASA,QAAQ,QAAQ,MAAM;;;;;;;;;;;;;ICezBC,kCAAqF;IAAAA,YAAgD;IAAAA,iBAAS;;;;IAAzDA,eAAgD;IAAhDA,mFAAgD;;;ADL3I,OAAM,MAAOC,eAAe;EAK1BC,YAAoBC,cAA6B,EACvCC,YAAmC,EACnCC,KAAqB,EAAUC,MAAc;IAFnC,mBAAc,GAAdH,cAAc;IACxB,iBAAY,GAAZC,YAAY;IACZ,UAAK,GAALC,KAAK;IAA0B,WAAM,GAANC,MAAM;IAE3CP,QAAQ,CAAC,IAAI,CAAC,CAACQ,SAAS,CAACC,CAAC,IAAG;MAC3B,IAAI,CAACC,QAAQ,EAAE;IACjB,CAAC,CAAC;EACJ;EAEIC,QAAQ;IAAA;IAAA;MACZ,KAAI,CAACD,QAAQ,EAAE;IAAA;EACjB;EAEMA,QAAQ;IAAA;IAAA;MACZ,MAAI,CAACE,cAAc,SAAS,MAAI,CAACR,cAAc,CAACS,uBAAuB,EAAE;MACzE,MAAI,CAACC,KAAK,GAAG,MAAI,CAACF,cAAc,CAACG,MAAM;IAAC;EAE1C;EAEAC,QAAQ;IACN,IAAI,CAACX,YAAY,CAACY,MAAM;EAC1B;;AA1BWf,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;QAAfA,eAAe;EAAAgB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCZ5BrB,sCAA0B;MAGtBA,yBAAkE;MACpEA,iBAAM;MAENA,8BAAkB;MACiBA,oBAAI;MAAAA,iBAAI;MACzCA,4BAAmC;MAAAA,sBAAM;MAAAA,iBAAI;MAC7CA,4BAAuC;MAAAA,0BAAU;MAAAA,iBAAI;MAGvDA,0BAA0B;MAE1BA,kCAA+C;MAC6DA,8BAAa;MAAAA,iBAAW;MAClIA,0CAA2B;MACzBA,yEAA8I;MACjJA,iBAAW;MAGZA,8BAA6C;MAAUA,gCAAe;MAAAA,iBAAW;MACjFA,8BAAuD;MAArBA;QAAA,OAASsB,cAAU;MAAA,EAAC;MAACtB,iCAAU;MAAAA,uBAAM;MAAAA,iBAAW;;;;MAR/DA,gBAA2B;MAA3BA,uCAA2B;MAClCA,eAA+B;MAA/BA,+CAA+B;MAEMA,eAAiB;MAAjBA,4CAAiB","names":["interval","i0","HeaderComponent","constructor","_fridgeService","_authService","route","router","subscribe","x","getNotif","ngOnInit","expFrigdeItems","getUpdatedNotifications","count","length","onLogout","logout","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\IdeaPad 100-15IBD\\Desktop\\HdM\\3-Semester\\SE3\\se3project\\Angular\\se3-recipe-generator-frontend\\src\\app\\shared\\components\\header\\header.component.ts","C:\\Users\\IdeaPad 100-15IBD\\Desktop\\HdM\\3-Semester\\SE3\\se3project\\Angular\\se3-recipe-generator-frontend\\src\\app\\shared\\components\\header\\header.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, ParamMap, Router } from '@angular/router';\r\nimport { interval } from 'rxjs';\r\nimport { FridgeItem } from 'src/app/models/fridgeItem';\r\nimport { AuthenticationService } from 'src/app/services/authentication.service';\r\nimport { FridgeService, NotifItem } from 'src/app/services/fridge.service';\r\n\r\n@Component({\r\n  selector: 'app-header',\r\n  templateUrl: './header.component.html',\r\n  styleUrls: ['./header.component.css']\r\n})\r\nexport class HeaderComponent implements OnInit {\r\n\r\n  public expFrigdeItems: NotifItem[];\r\n  public count: number;\r\n\r\n  constructor(private _fridgeService: FridgeService,\r\n    private _authService: AuthenticationService,\r\n    private route: ActivatedRoute, private router: Router) {\r\n\r\n      interval(5000).subscribe(x => {\r\n        this.getNotif();\r\n      })\r\n    }\r\n\r\n  async ngOnInit() {\r\n    this.getNotif()\r\n  }\r\n\r\n  async getNotif() {\r\n    this.expFrigdeItems = await this._fridgeService.getUpdatedNotifications();\r\n    this.count = this.expFrigdeItems.length;\r\n\r\n  }\r\n\r\n  onLogout() {\r\n    this._authService.logout;\r\n  }\r\n}\r\n","<mat-toolbar color=\"teal\">\r\n\r\n  <div>\r\n    <img class=\"logo\" src=\"../assets/logo-small-white.PNG\" alt=\"Logo\">\r\n  </div>\r\n\r\n  <div class=\"menu\">\r\n    <a mat-button routerLink=\"/home\">Home</a>\r\n    <a mat-button routerLink=\"/fridge\">Fridge</a>\r\n    <a mat-button routerLink=\"/my_recipes\">My recipes</a>\r\n  </div>\r\n\r\n  <div class=\"spacer\"></div>\r\n\r\n  <button mat-button [matMenuTriggerFor]=\"notif\">\r\n    <mat-icon [matBadgeHidden] = \"count == 0\" [matBadge]=\"count\" matBadgeColor=\"accent\" matBadgeSize=\"medium\">notifications</mat-icon>\r\n    <mat-menu #notif=\"matMenu\">\r\n      <button mat-menu-item *ngFor=\"let fridgeItem of expFrigdeItems\" routerLink=\"/fridge\">{{fridgeItem.item.name}} - {{fridgeItem.status}}</button>\r\n   </mat-menu>\r\n  </button>\r\n\r\n  <a mat-button routerLink=\"/account_settings\"><mat-icon>manage_accounts</mat-icon></a>\r\n  <a mat-button routerLink=\"/login\" (click)=\"onLogout()\"><mat-icon>logout</mat-icon></a>\r\n</mat-toolbar>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}