{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/IdeaPad 100-15IBD/Desktop/HdM/3-Semester/SE3/se3project/Angular/se3-recipe-generator-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { firstValueFrom } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class RecipeService {\n  constructor(http) {\n    this.http = http;\n    this.data = {};\n    this.ownerAccount = \"\";\n    this.recipeId = \"\";\n    this._baseUri = \"http://localhost:8085/api/v1/recipes\";\n    this._basiUriDel = \"http://localhost:8085/api/v1/recipes/\";\n  }\n  getRecipes(queryParams) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (queryParams) {\n        return firstValueFrom(_this.http.get(`${_this._baseUri}/oa=${_this.ownerAccount}/`, {\n          params: queryParams\n        }));\n      } else {\n        return firstValueFrom(_this.http.get(`${_this._baseUri}/oa=${_this.ownerAccount}/`));\n      }\n    })();\n  }\n  getTags() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      return firstValueFrom(_this2.http.get(`${_this2._baseUri}/tags/oa=${_this2.ownerAccount}`));\n    })();\n  }\n  getCategories() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      return firstValueFrom(_this3.http.get(\"http://localhost:8085/api/v1/categories\"));\n    })();\n  }\n  createRecipe(recipe) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      recipe.ownerAccount = _this4.ownerAccount;\n      return firstValueFrom(_this4.http.post(`${_this4._baseUri}`, recipe));\n    })();\n  }\n  setOwnerAccount(oa) {\n    this.ownerAccount = oa;\n  }\n  setId(id) {\n    this.recipeId = id;\n  }\n  deleteRecipe(id) {\n    this.http.delete(this._basiUriDel + id).subscribe();\n  }\n  updateRecipe(updatedRecipe) {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      return firstValueFrom(_this5.http.put(`${_this5._baseUri}/${_this5.recipeId}`, updatedRecipe));\n    })();\n  }\n}\nRecipeService.ɵfac = function RecipeService_Factory(t) {\n  return new (t || RecipeService)(i0.ɵɵinject(i1.HttpClient));\n};\nRecipeService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: RecipeService,\n  factory: RecipeService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";AAEA,SAAsDA,cAAc,QAAQ,MAAM;;;AAOlF,OAAM,MAAOC,aAAa;EASxBC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IAPxB,SAAI,GAAG,EAAE;IAED,iBAAY,GAAW,EAAE;IACzB,aAAQ,GAAC,EAAE;IACX,aAAQ,GAAW,sCAAsC;IACzD,gBAAW,GAAW,uCAAuC;EAE7B;EAElCC,UAAU,CAACC,WAAuB;IAAA;IAAA;MACtC,IAAIA,WAAW,EAAE;QACf,OAAOL,cAAc,CAAC,KAAI,CAACG,IAAI,CAACG,GAAG,CAAW,GAAG,KAAI,CAACC,QAAQ,OAAO,KAAI,CAACC,YAAY,GAAG,EAAE;UAACC,MAAM,EAACJ;QAAW,CAAC,CAAC,CAAC;OAClH,MACI;QACH,OAAOL,cAAc,CAAC,KAAI,CAACG,IAAI,CAACG,GAAG,CAAW,GAAG,KAAI,CAACC,QAAQ,OAAO,KAAI,CAACC,YAAY,GAAG,CAAC,CAAC;;IAC5F;EACH;EAEME,OAAO;IAAA;IAAA;MACX,OAAOV,cAAc,CAAC,MAAI,CAACG,IAAI,CAACG,GAAG,CAAW,GAAG,MAAI,CAACC,QAAQ,YAAY,MAAI,CAACC,YAAY,EAAE,CAAC,CAAC;IAAC;EAClG;EAEMG,aAAa;IAAA;IAAA;MACjB,OAAOX,cAAc,CAAC,MAAI,CAACG,IAAI,CAACG,GAAG,CAAc,yCAAyC,CAAC,CAAC;IAAA;EAC9F;EAEMM,YAAY,CAACC,MAAc;IAAA;IAAA;MAC/BA,MAAM,CAACL,YAAY,GAAG,MAAI,CAACA,YAAY;MACvC,OAAOR,cAAc,CAAC,MAAI,CAACG,IAAI,CAACW,IAAI,CAAS,GAAG,MAAI,CAACP,QAAQ,EAAE,EAAEM,MAAM,CAAC,CAAC;IAAC;EAC5E;EAEAE,eAAe,CAACC,EAAU;IACxB,IAAI,CAACR,YAAY,GAAGQ,EAAE;EACxB;EAEAC,KAAK,CAACC,EAAU;IACd,IAAI,CAACC,QAAQ,GAACD,EAAE;EAClB;EAEOE,YAAY,CAACF,EAAU;IAC5B,IAAI,CAACf,IAAI,CAACkB,MAAM,CAAC,IAAI,CAACC,WAAW,GAACJ,EAAE,CAAC,CAACK,SAAS,EAAE;EACnD;EAEMC,YAAY,CAACC,aAAqB;IAAA;IAAA;MACtC,OAAOzB,cAAc,CAAC,MAAI,CAACG,IAAI,CAACuB,GAAG,CAAC,GAAG,MAAI,CAACnB,QAAQ,IAAI,MAAI,CAACY,QAAQ,EAAE,EAAEM,aAAa,CAAC,CAAC;IAAA;EAC1F;;AA/CWxB,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;SAAbA,aAAa;EAAA0B,SAAb1B,aAAa;EAAA2B,YAFZ;AAAM","names":["firstValueFrom","RecipeService","constructor","http","getRecipes","queryParams","get","_baseUri","ownerAccount","params","getTags","getCategories","createRecipe","recipe","post","setOwnerAccount","oa","setId","id","recipeId","deleteRecipe","delete","_basiUriDel","subscribe","updateRecipe","updatedRecipe","put","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\IdeaPad 100-15IBD\\Desktop\\HdM\\3-Semester\\SE3\\se3project\\Angular\\se3-recipe-generator-frontend\\src\\app\\services\\recipe.service.ts"],"sourcesContent":["import { HttpClient, HttpErrorResponse, HttpParams } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, catchError, throwError, Subject, firstValueFrom } from 'rxjs';\r\nimport { ICategory } from '../models/category';\r\nimport { Recipe } from '../models/recipe';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RecipeService {\r\n\r\n  data = {};\r\n\r\n  private ownerAccount: string = \"\";\r\n  private recipeId=\"\";\r\n  private _baseUri: string = \"http://localhost:8085/api/v1/recipes\"\r\n  private _basiUriDel: string = \"http://localhost:8085/api/v1/recipes/\"\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  async getRecipes(queryParams: HttpParams): Promise<Recipe[]> {\r\n    if (queryParams) {\r\n      return firstValueFrom(this.http.get<Recipe[]>(`${this._baseUri}/oa=${this.ownerAccount}/`, {params:queryParams}));\r\n    }\r\n    else {\r\n      return firstValueFrom(this.http.get<Recipe[]>(`${this._baseUri}/oa=${this.ownerAccount}/`));\r\n    }\r\n  }\r\n\r\n  async getTags(): Promise<String[]> {\r\n    return firstValueFrom(this.http.get<String[]>(`${this._baseUri}/tags/oa=${this.ownerAccount}`));\r\n  }\r\n\r\n  async getCategories(): Promise<ICategory[]> {\r\n    return firstValueFrom(this.http.get<ICategory[]>(\"http://localhost:8085/api/v1/categories\"))\r\n  }\r\n\r\n  async createRecipe(recipe: Recipe): Promise<Recipe> {\r\n    recipe.ownerAccount = this.ownerAccount;\r\n    return firstValueFrom(this.http.post<Recipe>(`${this._baseUri}`, recipe));\r\n  }\r\n\r\n  setOwnerAccount(oa: string): void{\r\n    this.ownerAccount = oa;\r\n  }\r\n\r\n  setId(id: string):void{\r\n    this.recipeId=id;\r\n  }\r\n\r\n  public deleteRecipe(id: string){\r\n    this.http.delete(this._basiUriDel+id).subscribe();\r\n  }\r\n\r\n  async updateRecipe(updatedRecipe: Recipe):Promise<any>{\r\n    return firstValueFrom(this.http.put(`${this._baseUri}/${this.recipeId}`, updatedRecipe))\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}