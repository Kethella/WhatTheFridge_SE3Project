{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/IdeaPad 100-15IBD/Desktop/HdM/3-Semester/SE3/se3project/Angular/se3-recipe-generator-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { interval } from 'rxjs';\nlet HeaderComponent = class HeaderComponent {\n  constructor(_fridgeService, _authService, route, router) {\n    this._fridgeService = _fridgeService;\n    this._authService = _authService;\n    this.route = route;\n    this.router = router;\n    interval(5000).subscribe(x => {\n      this.getNotif();\n    });\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.getNotif();\n    })();\n  }\n  getNotif() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.expFrigdeItems = yield _this2._fridgeService.getUpdatedNotifications();\n      _this2.count = _this2.expFrigdeItems.length;\n    })();\n  }\n  onLogout() {\n    this._authService.logout;\n  }\n};\nHeaderComponent = __decorate([Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.css']\n})], HeaderComponent);\nexport { HeaderComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAS,QAAgB,eAAe;AAEjD,SAASC,QAAQ,QAAQ,MAAM;AAUxB,IAAMC,eAAe,GAArB,MAAMA,eAAe;EAK1BC,YAAoBC,cAA6B,EACvCC,YAAmC,EACnCC,KAAqB,EAAUC,MAAc;IAFnC,mBAAc,GAAdH,cAAc;IACxB,iBAAY,GAAZC,YAAY;IACZ,UAAK,GAALC,KAAK;IAA0B,WAAM,GAANC,MAAM;IAE3CN,QAAQ,CAAC,IAAI,CAAC,CAACO,SAAS,CAACC,CAAC,IAAG;MAC3B,IAAI,CAACC,QAAQ,EAAE;IACjB,CAAC,CAAC;EACJ;EAEIC,QAAQ;IAAA;IAAA;MACZ,KAAI,CAACD,QAAQ,EAAE;IAAA;EACjB;EAEMA,QAAQ;IAAA;IAAA;MACZ,MAAI,CAACE,cAAc,SAAS,MAAI,CAACR,cAAc,CAACS,uBAAuB,EAAE;MACzE,MAAI,CAACC,KAAK,GAAG,MAAI,CAACF,cAAc,CAACG,MAAM;IAAC;EAC1C;EAEAC,QAAQ;IACN,IAAI,CAACX,YAAY,CAACY,MAAM;EAC1B;CACD;AA1BYf,eAAe,eAL3BF,SAAS,CAAC;EACTkB,QAAQ,EAAE,YAAY;EACtBC,WAAW,EAAE,yBAAyB;EACtCC,SAAS,EAAE,CAAC,wBAAwB;CACrC,CAAC,GACWlB,eAAe,CA0B3B;SA1BYA,eAAe","names":["Component","interval","HeaderComponent","constructor","_fridgeService","_authService","route","router","subscribe","x","getNotif","ngOnInit","expFrigdeItems","getUpdatedNotifications","count","length","onLogout","logout","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\IdeaPad 100-15IBD\\Desktop\\HdM\\3-Semester\\SE3\\se3project\\Angular\\se3-recipe-generator-frontend\\src\\app\\shared\\components\\header\\header.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, ParamMap, Router } from '@angular/router';\r\nimport { interval } from 'rxjs';\r\nimport { FridgeItem } from 'src/app/models/fridgeItem';\r\nimport { AuthenticationService } from 'src/app/services/authentication.service';\r\nimport { FridgeService, NotifItem } from 'src/app/services/fridge.service';\r\n\r\n@Component({\r\n  selector: 'app-header',\r\n  templateUrl: './header.component.html',\r\n  styleUrls: ['./header.component.css']\r\n})\r\nexport class HeaderComponent implements OnInit {\r\n\r\n  public expFrigdeItems: NotifItem[];\r\n  public count: number;\r\n\r\n  constructor(private _fridgeService: FridgeService,\r\n    private _authService: AuthenticationService,\r\n    private route: ActivatedRoute, private router: Router) {\r\n\r\n      interval(5000).subscribe(x => {\r\n        this.getNotif();\r\n      })\r\n    }\r\n\r\n  async ngOnInit() {\r\n    this.getNotif()\r\n  }\r\n\r\n  async getNotif() {\r\n    this.expFrigdeItems = await this._fridgeService.getUpdatedNotifications();\r\n    this.count = this.expFrigdeItems.length;\r\n  }\r\n\r\n  onLogout() {\r\n    this._authService.logout;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}