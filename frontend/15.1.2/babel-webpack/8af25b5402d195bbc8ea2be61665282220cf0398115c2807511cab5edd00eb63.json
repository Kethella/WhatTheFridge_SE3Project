{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/IdeaPad 100-15IBD/Desktop/HdM/3-Semester/SE3/se3project/Angular/se3-recipe-generator-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { firstValueFrom } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class RecipeService {\n  constructor(http) {\n    this.http = http;\n    this.data = {};\n    this.ownerAccount = \"2238550034095900\";\n    this._baseUri = \"http://localhost:8085/api/v1/recipes\";\n  }\n  getRecipes(queryParams) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      console.log(_this.ownerAccount);\n      if (queryParams) {\n        return firstValueFrom(_this.http.get(`${_this._baseUri}/oa=${_this.ownerAccount}/`, {\n          params: queryParams\n        }));\n      } else {\n        return firstValueFrom(_this.http.get(`${_this._baseUri}/oa=${_this.ownerAccount}/`));\n      }\n    })();\n  }\n  getTags() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      return firstValueFrom(_this2.http.get(`${_this2._baseUri}/tags/oa=${_this2.ownerAccount}`));\n    })();\n  }\n  getCategories() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      return firstValueFrom(_this3.http.get(\"http://localhost:8085/api/v1/categories\"));\n    })();\n  }\n  save(recipe) {\n    return this.http.post(`${this._baseUri}/oa=${this.ownerAccount}`, recipe);\n  }\n  setOwnerAccount(oa) {\n    this.ownerAccount = oa;\n  }\n}\nRecipeService.ɵfac = function RecipeService_Factory(t) {\n  return new (t || RecipeService)(i0.ɵɵinject(i1.HttpClient));\n};\nRecipeService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: RecipeService,\n  factory: RecipeService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";AAEA,SAAsDA,cAAc,QAAQ,MAAM;;;AAOlF,OAAM,MAAOC,aAAa;EAOxBC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IALxB,SAAI,GAAG,EAAE;IAED,iBAAY,GAAW,kBAAkB;IACzC,aAAQ,GAAW,sCAAsC;EAEzB;EAElCC,UAAU,CAACC,WAAuB;IAAA;IAAA;MACtCC,OAAO,CAACC,GAAG,CAAC,KAAI,CAACC,YAAY,CAAC;MAC9B,IAAIH,WAAW,EAAE;QACf,OAAOL,cAAc,CAAC,KAAI,CAACG,IAAI,CAACM,GAAG,CAAW,GAAG,KAAI,CAACC,QAAQ,OAAO,KAAI,CAACF,YAAY,GAAG,EAAE;UAACG,MAAM,EAACN;QAAW,CAAC,CAAC,CAAC;OAClH,MACI;QACH,OAAOL,cAAc,CAAC,KAAI,CAACG,IAAI,CAACM,GAAG,CAAW,GAAG,KAAI,CAACC,QAAQ,OAAO,KAAI,CAACF,YAAY,GAAG,CAAC,CAAC;;IAC5F;EACH;EAEMI,OAAO;IAAA;IAAA;MACX,OAAOZ,cAAc,CAAC,MAAI,CAACG,IAAI,CAACM,GAAG,CAAW,GAAG,MAAI,CAACC,QAAQ,YAAY,MAAI,CAACF,YAAY,EAAE,CAAC,CAAC;IAAC;EAClG;EAEMK,aAAa;IAAA;IAAA;MACjB,OAAOb,cAAc,CAAC,MAAI,CAACG,IAAI,CAACM,GAAG,CAAc,yCAAyC,CAAC,CAAC;IAAA;EAC9F;EAEOK,IAAI,CAACC,MAAc;IACxB,OAAO,IAAI,CAACZ,IAAI,CAACa,IAAI,CAAS,GAAG,IAAI,CAACN,QAAQ,OAAO,IAAI,CAACF,YAAY,EAAE,EAAEO,MAAM,CAAC;EACnF;EAEAE,eAAe,CAACC,EAAU;IACxB,IAAI,CAACV,YAAY,GAAGU,EAAE;EACxB;;AAjCWjB,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;SAAbA,aAAa;EAAAkB,SAAblB,aAAa;EAAAmB,YAFZ;AAAM","names":["firstValueFrom","RecipeService","constructor","http","getRecipes","queryParams","console","log","ownerAccount","get","_baseUri","params","getTags","getCategories","save","recipe","post","setOwnerAccount","oa","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\IdeaPad 100-15IBD\\Desktop\\HdM\\3-Semester\\SE3\\se3project\\Angular\\se3-recipe-generator-frontend\\src\\app\\services\\recipe.service.ts"],"sourcesContent":["import { HttpClient, HttpErrorResponse, HttpParams } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, catchError, throwError, Subject, firstValueFrom } from 'rxjs';\r\nimport { ICategory } from '../models/category';\r\nimport { Recipe } from '../models/recipe';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RecipeService {\r\n\r\n  data = {};\r\n\r\n  private ownerAccount: string = \"2238550034095900\";\r\n  private _baseUri: string = \"http://localhost:8085/api/v1/recipes\"\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  async getRecipes(queryParams: HttpParams): Promise<Recipe[]> {\r\n    console.log(this.ownerAccount)\r\n    if (queryParams) {\r\n      return firstValueFrom(this.http.get<Recipe[]>(`${this._baseUri}/oa=${this.ownerAccount}/`, {params:queryParams}));\r\n    }\r\n    else {\r\n      return firstValueFrom(this.http.get<Recipe[]>(`${this._baseUri}/oa=${this.ownerAccount}/`));\r\n    }\r\n  }\r\n\r\n  async getTags(): Promise<String[]> {\r\n    return firstValueFrom(this.http.get<String[]>(`${this._baseUri}/tags/oa=${this.ownerAccount}`));\r\n  }\r\n\r\n  async getCategories(): Promise<ICategory[]> {\r\n    return firstValueFrom(this.http.get<ICategory[]>(\"http://localhost:8085/api/v1/categories\"))\r\n  }\r\n\r\n  public save(recipe: Recipe) {\r\n    return this.http.post<Recipe>(`${this._baseUri}/oa=${this.ownerAccount}`, recipe);\r\n  }\r\n\r\n  setOwnerAccount(oa: string): void{\r\n    this.ownerAccount = oa;\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}